"0","calc_dev_stage <- function(type_age) { #childhood vs. adulthood"
"0","  case_when("
"0","    type_age < 18 ~ ""childhood"","
"0","    type_age >= 18 ~ ""adulthood"","
"0","    TRUE ~ NA_character_"
"0","  )"
"0","}"
"0","calc_sev_childhood <- function(dev_stage, sev) { #childhood"
"0","   if_else("
"0","    dev_stage == ""childhood"","
"0","    sev, NA_real_"
"0","  )"
"0","}"
"0","age_vars <-"
"0","  lscr_preg %>% "
"0","  select(contains(""_age"")) %>% "
"0","  names()"
"0","lscr_preg <-"
"0","  lscr_preg %>% "
"0","  mutate_at("
"0","    vars(age_vars),"
"0","    .funs = funs(""devstage"" = calc_dev_stage(.))"
"0","  ) %>% "
"0","  mutate("
"0","    ##objective ratings of stress in childhood"
"0","    sev_child_disas = calc_sev_childhood(lscr_disas_age_devstage, sev_con_disas),"
"0","    sev_child_witacc = calc_sev_childhood(lscr_witacc_age_devstage, sev_con_witacc),"
"0","    sev_child_acc = calc_sev_childhood(lscr_acc_age_devstage, sev_con_acc),"
"0","    sev_child_famjail = calc_sev_childhood(lscr_famjail_age_devstage, sev_con_famjail),"
"0","    sev_child_jail = calc_sev_childhood(lscr_jail_age_devstage, sev_con_jail),"
"0","    sev_child_adopt = calc_sev_childhood(lscr_adopt_age_devstage, sev_con_adopt),"
"0","    sev_child_pardivorce = calc_sev_childhood(lscr_pardivorce_age_devstage, sev_con_pardivorce),"
"0","    sev_child_divorce = calc_sev_childhood(lscr_divorce_age_devstage, sev_con_divorce),"
"0","    sev_child_money = calc_sev_childhood(lscr_money_age_devstage, sev_con_money),"
"0","    sev_child_ill = calc_sev_childhood(lscr_ill_age_devstage, sev_con_ill),"
"0","    sev_child_emoab = calc_sev_childhood(lscr_emoab_age_devstage, sev_con_emoab),"
"0","    sev_child_emoab_2 = calc_sev_childhood(lscr_emoab_age_2_devstage, sev_con_emoab2),"
"0","    sev_child_physneg = calc_sev_childhood(lscr_physneg_age_devstage, sev_con_physneg),"
"0","    sev_child_abort = calc_sev_childhood(lscr_abort_age_devstage, sev_con_abort),"
"0","    sev_child_sepchild = calc_sev_childhood(lscr_sepchild_age_devstage, sev_con_sepchild),"
"0","    sev_child_care = calc_sev_childhood(lscr_care_age_devstage, sev_con_care),"
"0","    sev_child_death1 = calc_sev_childhood(lscr_death1_age_devstage, sev_con_death1),"
"0","    sev_child_death2 = calc_sev_childhood(lscr_death2_age_devstage, sev_con_death2),"
"0","    sev_child_famviol = calc_sev_childhood(lscr_famviol_age_devstage, sev_con_famviol),"
"0","    sev_child_witmug = calc_sev_childhood(lscr_witmug_age_devstage, sev_con_witmug),"
"0","    sev_child_mug = calc_sev_childhood(lscr_mug_age_devstage, sev_con_mug),"
"0","    sev_child_physab = calc_sev_childhood(lscr_physab_age_devstage, sev_con_physab),"
"0","    sev_child_domviol = calc_sev_childhood(lscr_domviol_age_devstage, sev_con_domviol),"
"0","    sev_child_sexharas = calc_sev_childhood(lscr_sexharas_age_devstage, sev_con_sexharas),"
"0","    sev_child_sextouch1 = calc_sev_childhood(lscr_sextouch1_age_devstage, sev_con_sextouch1),"
"0","    sev_child_sextouch2 = calc_sev_childhood(lscr_sextouch2_age_devstage, sev_con_sextouch2),"
"0","    sev_child_rape1 = calc_sev_childhood(lscr_rape1_age_devstage, sev_con_rape1),"
"0","    sev_child_rape2 = calc_sev_childhood(lscr_rape2_age_devstage, sev_con_rape2),"
"0","    sev_child_other1 = calc_sev_childhood(lscr_other1_age_devstage, sev_con_other1),"
"0","    sev_child_other2 = calc_sev_childhood(lscr_other2_age_devstage, sev_con_other2)"
"0","  )"
"0","child_subsev_vars <-"
"0","  lscr_preg %>% "
"0","  select(contains(""subsev_child"")) %>% "
"0","  names()"
"0","child_sev_vars <-"
"0","  lscr_preg %>% "
"0","  select(contains(""sev_child"")) %>% "
"0","  names()"
"0","lscr_preg <-"
"0","  lscr_preg %>% "
"0","  mutate("
"0","    sum_sev_childhood = "
"0","      pmap_dbl("
"0","        select(., child_sev_vars),"
"0","        function(...) sum(c(...), na.rm = TRUE)"
"0","      ),"
"0","    max_sev_childhood = "
"0","      pmap_dbl("
"0","        select(., child_sev_vars),"
"0","        function(...) max(c(...), na.rm = TRUE)"
"0","      ),"
"0","    max_sev_childhood = if_else("
"0","      max_sev_childhood == -Inf,"
"0","      0, max_sev_childhood"
"0","    ),"
"0","    sum_sev_maltreatment = "
"0","      pmap_dbl("
"0","        select("
"0","          ., "
"0","          sev_child_emoab,"
"0","          sev_child_emoab_2,"
"0","          sev_child_physab,"
"0","          sev_child_physneg,"
"0","          sev_child_adopt,"
"0","          sev_child_rape1,"
"0","          sev_child_rape2,"
"0","          sev_child_sextouch1,"
"0","          sev_child_sextouch2,"
"0","          sev_child_sexharas"
"0","        ),"
"0","        function(...) sum(c(...), na.rm = TRUE)"
"0","      ),"
"0","    maltreated = if_else("
"0","      sum_sev_maltreatment > 0, "
"0","      ""maltreated"", ""not maltreated"""
"0","    )"
"0","  ) "
"2","no non-missing arguments to max; returning -Inf"
"2","no non-missing arguments to max; returning -Inf"
"2","no non-missing arguments to max; returning -Inf"
"2","no non-missing arguments to max; returning -Inf"
"2","no non-missing arguments to max; returning -Inf"
"2","no non-missing arguments to max; returning -Inf"
"2","no non-missing arguments to max; returning -Inf"
"2","no non-missing arguments to max; returning -Inf"
"2","no non-missing arguments to max; returning -Inf"
"2","no non-missing arguments to max; returning -Inf"
